<div class="reg-container" *ngIf="!isSendingPost">
  <div style="text-align: center">
    <strong class="mat-display-1">Create Admin Account</strong>
  </div>
  <hr>
  <form class="reg-form" [formGroup]="regForm" (ngSubmit)="onCreateAccount()">

    <mat-form-field class="full-width" appearance="outline">
      <mat-label>Username</mat-label>
      <label>
        <input matInput formControlName="username">
      </label>
      <mat-hint
        *ngIf="!regForm.get('username').valid && regForm.get('username').touched"
        class="error-message">
        <p *ngIf="regForm.get('username').errors.required">
          username cannot be empty</p>
      </mat-hint>
    </mat-form-field>

    <mat-form-field class="full-width" appearance="outline">
      <mat-label>Password</mat-label>
      <label>
        <input matInput [type]="hide ? 'password' : 'text'" formControlName="password" (focusout)="checkPasswords()">
      </label>
      <button
        type="button"
        mat-icon-button
        matSuffix
        (click)="hide = !hide" [attr.aria-label]="'Hide password'"
        [attr.aria-pressed]="hide"
        tabindex="-1">
        <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
      </button>
      <mat-hint
        *ngIf="!regForm.get('password').valid && regForm.get('password').touched"
        class="error-message">
        <p *ngIf="regForm.get('password').errors.required">
          password cannot be empty</p>
        <p *ngIf="regForm.get('password').errors.passwordNotMatch">
          {{regForm.get('password').errors.passwordNotMatch}}</p>
      </mat-hint>
    </mat-form-field>

    <mat-form-field class="full-width" appearance="outline">
      <mat-label>Password Again</mat-label>
      <label>
        <input matInput [type]="hide ? 'password' : 'text'" formControlName="passwordAgain" (focusout)="checkPasswords()">
      </label>
      <button
        type="button"
        mat-icon-button
        matSuffix
        (click)="hide = !hide" [attr.aria-label]="'Hide password'"
        [attr.aria-pressed]="hide"
        tabindex="-1">
        <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
      </button>
      <mat-hint
        *ngIf="!regForm.get('passwordAgain').valid && regForm.get('passwordAgain').touched"
        class="error-message">
        <p *ngIf="regForm.get('passwordAgain').errors.required">
          password cannot be empty</p>
        <p *ngIf="regForm.get('passwordAgain').errors.passwordNotMatch">
          {{regForm.get('passwordAgain').errors.passwordNotMatch}}</p>
      </mat-hint>
    </mat-form-field>

    <hr>
    <button type="submit" mat-flat-button [disabled]="!this.regForm.valid" color="primary">Create Account</button>
  </form>
</div>

<div class="reg-container" *ngIf="isSendingPost">
  <mat-spinner></mat-spinner>
</div>



